# YouTube API Key
# Get this from Google Cloud Console -> APIs & Services -> Credentials -> Create API Key
# Required for: YouTube search functionality
YOUTUBE_API_KEY=your_youtube_api_key_here

# Google OAuth 2.0 Credentials
# Get these from Google Cloud Console -> APIs & Services -> Credentials -> Create OAuth 2.0 Client ID
# Required for: Accessing user playlists (optional if you only use direct URLs)
GOOGLE_CLIENT_ID=your_client_id_here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your_client_secret_here
GOOGLE_REDIRECT_URI=http://localhost:4000/api/auth/google/callback

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000
# Backend URL (used for OAuth callback URLs)
BACKEND_URL=http://localhost:4000

# Spotify App Credentials (Optional - needed for Spotify import)
# Get these from Spotify Developer Dashboard -> Your App -> Settings
# Required for: Spotify playlist/account OAuth and Spotify URL import metadata lookup
# SPOTIFY_CLIENT_ID=your_spotify_client_id_here
# SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here

# Session Secret
# Generate a random string for session encryption
# You can generate one with: openssl rand -base64 32
SESSION_SECRET=your_random_session_secret_here

# Data Directory
# Where audio files and database will be stored
# Default: ./data (relative to backend folder)
DATA_DIR=./data

# Ollama Configuration (Optional - for track metadata tagging)
# Only needed if you want to use Ollama for analyzing YouTube video titles/descriptions
OLLAMA_URL=http://ollama:11434
OLLAMA_HOST=http://ollama:11434
OLLAMA_MODEL=llama3.2:3b
# Optional dedicated review targets:
# OLLAMA_ANALYZER_HOST=http://ollama-analyzer:11434
# OLLAMA_ANALYZER_MODEL=${OLLAMA_MODEL}
# OLLAMA_CPU_HOST=http://ollama:11434
# OLLAMA_CPU_MODEL=${OLLAMA_MODEL}
# Post-analysis tag QA fallback chain:
# OLLAMA_TAG_REVIEW_TARGET_CHAIN=analyzer,primary,cpu
# OLLAMA_TAG_REVIEW_RETRIES_PER_TARGET=1
# OLLAMA_TAG_REVIEW_RETRY_DELAY_MS=200
# OLLAMA_TAG_REVIEW_HEALTH_TIMEOUT_MS=800
# Batch review timeout for grouped review calls (default: 90000)
# OLLAMA_TAG_REVIEW_BATCH_TIMEOUT_MS=90000
# Final post-analysis audit chain (typically largest model first):
# OLLAMA_TAG_AUDIT_TARGET_CHAIN=primary,analyzer,cpu
# OLLAMA_TAG_AUDIT_RETRIES_PER_TARGET=1
# OLLAMA_TAG_AUDIT_RETRY_DELAY_MS=200
# OLLAMA_TAG_AUDIT_HEALTH_TIMEOUT_MS=800
# OLLAMA_TAG_AUDIT_TIMEOUT_MS=90000
# Enable post-analysis Ollama review (1=true, 0=false)
# OLLAMA_TAG_REVIEW=1
# Batch re-analyze final audit controls (AI always runs in this project):
# BATCH_REANALYZE_REVIEW_BATCH_SIZE=5
# BATCH_REANALYZE_AUDIT=1
# BATCH_REANALYZE_AUDIT_BATCH_SIZE=30
# BATCH_REANALYZE_REFEED_TIMEOUT_MS=90000
# BATCH_REANALYZE_AUDIT_MAX_REPORT_ISSUES=200
# Set to 1/true to print Ollama prompt/response previews and timings in backend logs
# OLLAMA_DEBUG=0
# Max chars for debug previews (default 500)
# OLLAMA_DEBUG_MAX_CHARS=500
# Max concurrent generate calls (default 1)
# OLLAMA_MAX_CONCURRENT_GENERATE=1
# Consecutive /api/generate failures before temporary cooldown (default 2)
# OLLAMA_GENERATE_FAILURE_THRESHOLD=2
# Cooldown duration after repeated generate failures in ms (default 30000)
# OLLAMA_GENERATE_FAILURE_COOLDOWN_MS=30000

# Audio analysis process concurrency (default 1, recommended for stability)
# AUDIO_ANALYSIS_MAX_CONCURRENT=1

# Server Configuration (Optional)
# PORT=4000
# NODE_ENV=development

# Downloader / Spotify Controls (Optional)
# Set to 0 to hard-disable Spotify import routes and spotdl usage.
# ENABLE_SPOTIFY_IMPORT=1
#
# Runtime auto-install toggles (if tools are missing):
# AUTO_INSTALL_DOWNLOAD_TOOLS=0
# AUTO_INSTALL_YTDLP=0
# AUTO_INSTALL_SPOTDL=0

# rclone-share (Other Computers) defaults:
# AUTO setup writes a default config file when missing.
# RCLONE_SHARE_AUTO_SETUP=1
# RCLONE_SHARE_REMOTE=:local:/app/data/rclone-share-remote
# RCLONE_SHARE_BASE_PATH=sample-share
# RCLONE_SHARE_LOCAL_LIBRARY_ROOT=/app/data/shared-libraries
